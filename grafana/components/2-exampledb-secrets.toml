#:schema https://api.nuon.co/v1/general/config-schema?type=kubernetes-manifest

name   = "exampledb_secrets" 
type   = "kubernetes_manifest"
dependencies   = ["exampledb_postgres"]

namespace = "grafana"
manifest = """
# Secret for postgres-exporter to connect to exampledb
apiVersion: v1
kind: Secret
metadata:
  name: exampledb-datasource-secret
  namespace: grafana
type: Opaque
stringData:
  DATASOURCE_URL: "postgres://exampledb:exampledb@postgresql.exampledb.svc.cluster.local:5432/exampledb?sslmode=disable&connect_timeout=10"
  DATASOURCE_PASSWORD: "exampledb"
"""