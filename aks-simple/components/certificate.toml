#:schema https://api.nuon.co/v1/general/config-schema?type=terraform

name              = "certificate"
type              = "terraform_module"
terraform_version = "1.11.3"

[public_repo]
repo      = "nuonco/example-app-configs"
directory = "aks-simple/src/components/certificate"
branch    = "ja/pro-1515-https-cert-component"

[vars]
key_vault_id = "/subscriptions/{{ .nuon.install_stack.outputs.subscription_id }}/resourceGroups/{{ .nuon.install.id }}-rg/providers/Microsoft.KeyVault/vaults/{{ trunc 24 .nuon.install.id }}"
install_id  = "{{ .nuon.install.id }}"
zone_id     = "{{ .nuon.install.sandbox.outputs.public_domain.id }}"
domain_name = "*.{{ .nuon.install.sandbox.outputs.public_domain.name }}"
